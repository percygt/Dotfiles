sudo dnf update -y

sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm

sudo dnf update -y
sudo dnf install kernel-devel
sudo dnf install akmod-nvidia xorg-x11-drv-nvidia-cuda

sudo systemctl enable nvidia-hibernate.service nvidia-suspend.service nvidia-resume.service nvidia-powerd.service
reboot

sudo cat /sys/module/nvidia_drm/parameters/modeset

if Y,Ok

sudo dnf copr enable lukenukem/asus-linux
sudo dnf update

sudo dnf install asusctl supergfxctl
sudo dnf update --refresh
sudo systemctl enable supergfxd.service

reboot


sudo gedit /etc/default/grub

GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT="console"
GRUB_CMDLINE_LINUX="rd.driver.blacklist=nouveau modprobe.blacklist=nouveau nvidia-drm.modeset=1 rhgb quiet"
GRUB_DISABLE_RECOVERY="true"
GRUB_ENABLE_BLSCFG=true

sudo grub2-mkconfig -o /etc/grub2.cfg


hide message
sudo systemctl mask nvidia-fallback.service



#new 
sudo nano /etc/dnf/dnf.conf

   1   │ # see `man dnf.conf` for defaults and possible options
   2   │ 
   3   │ [main]
   4   │ gpgcheck=True
   5   │ installonly_limit=3
   6   │ clean_requirements_on_remove=True
   7   │ best=False
   8   │ skip_if_unavailable=True
   9   │ max_parallel_downloads=10

sudo dnf groupupdate core

sudo fwupdmgr get-devices 
sudo fwupdmgr refresh --force 
sudo fwupdmgr get-updates 
sudo fwupdmgr update
